name: Test iOS 26 Simulator

on:
  workflow_dispatch:

jobs:
  test-sim:
    runs-on: macos-26

    steps:
      - name: Launch iOS 26.x Simulator (iPhone 17)
        id: sim
        uses: futureware-tech/simulator-action@v4
        with:
          os: iOS
          model: 'iPhone 17'
          os_version: '>=26.0'
          wait_for_boot: true

      - name: Print simulator info
        run: |
          echo "Launched simulator UDID:"
          echo "${{ steps.sim.outputs.udid }}"

          echo "List devices:"
          xcrun simctl list devices

          echo "List runtimes:"
          xcrun simctl list runtimes
